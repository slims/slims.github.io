"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[2726],{5680:(a,e,n)=>{n.d(e,{xA:()=>s,yg:()=>c});var t=n(6540);function i(a,e,n){return e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function r(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.push.apply(n,t)}return n}function l(a){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(a,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))}))}return a}function u(a,e){if(null==a)return{};var n,t,i=function(a,e){if(null==a)return{};var n,t,i={},r=Object.keys(a);for(t=0;t<r.length;t++)n=r[t],e.indexOf(n)>=0||(i[n]=a[n]);return i}(a,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(t=0;t<r.length;t++)n=r[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}var o=t.createContext({}),p=function(a){var e=t.useContext(o),n=e;return a&&(n="function"==typeof a?a(e):l(l({},e),a)),n},s=function(a){var e=p(a.components);return t.createElement(o.Provider,{value:e},a.children)},g="mdxType",d={inlineCode:"code",wrapper:function(a){var e=a.children;return t.createElement(t.Fragment,{},e)}},m=t.forwardRef((function(a,e){var n=a.components,i=a.mdxType,r=a.originalType,o=a.parentName,s=u(a,["components","mdxType","originalType","parentName"]),g=p(n),m=i,c=g["".concat(o,".").concat(m)]||g[m]||d[m]||r;return n?t.createElement(c,l(l({ref:e},s),{},{components:n})):t.createElement(c,l({ref:e},s))}));function c(a,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof a||i){var r=n.length,l=new Array(r);l[0]=m;var u={};for(var o in e)hasOwnProperty.call(e,o)&&(u[o]=e[o]);u.originalType=a,u[g]="string"==typeof a?a:i,l[1]=u;for(var p=2;p<r;p++)l[p]=n[p];return t.createElement.apply(null,l)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2526:(a,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>u,toc:()=>p});var t=n(8168),i=(n(6540),n(5680));const r={title:"Migration",description:"Ini merupakan bagian dari fitur ```Plugin``` yang digunakan untuk melakukan proses migrasi basis data atau akrab dikenal sebagai Database Migr...",keywords:["Migration","database","SLiMS"],image:"https://static.slims.web.id/docs/4.5-migration.png"},l=void 0,u={unversionedId:"Plugin/Migration",id:"Plugin/Migration",title:"Migration",description:"Ini merupakan bagian dari fitur ```Plugin``` yang digunakan untuk melakukan proses migrasi basis data atau akrab dikenal sebagai Database Migr...",source:"@site/development-guide/04-Plugin/07-Migration.md",sourceDirName:"04-Plugin",slug:"/Plugin/Migration",permalink:"/docs/development-guide/Plugin/Migration",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{title:"Migration",description:"Ini merupakan bagian dari fitur ```Plugin``` yang digunakan untuk melakukan proses migrasi basis data atau akrab dikenal sebagai Database Migr...",keywords:["Migration","database","SLiMS"],image:"https://static.slims.web.id/docs/4.5-migration.png"},sidebar:"tutorialSidebar",previous:{title:"Cara membuat plugin diarea admin",permalink:"/docs/development-guide/Plugin/Membuat-plugin-modifikasi-pada-area-admin"},next:{title:"Pengantar",permalink:"/docs/development-guide/Database/Intro"}},o={},p=[{value:"Langkah-Langkah",id:"langkah-langkah",level:3},{value:"Simpulan",id:"simpulan",level:3}],s={toc:p},g="wrapper";function d(a){let{components:e,...n}=a;return(0,i.yg)(g,(0,t.A)({},s,n,{components:e,mdxType:"MDXLayout"}),(0,i.yg)("p",null,"Ini merupakan bagian dari fitur ",(0,i.yg)("inlineCode",{parentName:"p"},"Plugin")," yang digunakan untuk melakukan proses migrasi basis data atau akrab dikenal sebagai Database Migration. Sebuah proses dimana anda sebagai pengembang/",(0,i.yg)("em",{parentName:"p"},"developer")," plugin dapat dengan leluasa memindahkan struktur tabel yang anda buat khusus untuk plugin anda tanpa perlu repot memindahkan manual dengan mengekspor file .sql dll kedalam database anda."),(0,i.yg)("h3",{id:"langkah-langkah"},"Langkah-Langkah"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Buat sebuah folder bernama ",(0,i.yg)("inlineCode",{parentName:"p"},"migration")," didalam folder anda")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Buat sebuah file dengan nama ",(0,i.yg)("inlineCode",{parentName:"p"},"1_CreateBase.php"),' (nama bisa desuaikan). Setiap nama yang dibuat wajib diawali dengan  angka dan dipisahkan dengan "_" (garis bawah) misalnya ',(0,i.yg)("inlineCode",{parentName:"p"},"2_ModifyColumn.php")," dst. Pemberi nomor bertujuan untuk mengurutkan proses migrasi dari awal hingga akhir dan nama setelah nomor tidak boleh ada yang sama.")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Buka file yang sudah anda buat lalu isinya sebagai berikut:"),(0,i.yg)("pre",{parentName:"li"},(0,i.yg)("code",{parentName:"pre",className:"language-php"},"<?php\nuse SLiMS\\Migration\\Migration;\n\nclass CreateBase extends Migration\n{\n    function up() {\n        // tulis disini\n    }\n\n    function down() {\n        // tulis disini\n    }\n}\n")),(0,i.yg)("h4",{parentName:"li",id:"penjelasan"},"Penjelasan"),(0,i.yg)("h5",{parentName:"li",id:"up"},"Up"),(0,i.yg)("pre",{parentName:"li"},(0,i.yg)("code",{parentName:"pre",className:"language-php"},"function up()\n")),(0,i.yg)("p",{parentName:"li"},"Metoda/method ini akan dijalan ketika plugin diaktifkan. Anda dapat meletakan proses pembuatan tabel,kolom dll yang berkaitan dengan struktur basis data SLiMS yang hendak anda ubah."),(0,i.yg)("h5",{parentName:"li",id:"down"},"Down"),(0,i.yg)("pre",{parentName:"li"},(0,i.yg)("code",{parentName:"pre",className:"language-php"},"function down()\n")),(0,i.yg)("p",{parentName:"li"},"Kebalikan dari metoda seblumnya. Proses yang bisa anda lakukab seperti menghapus struktur tabel, tabel, kolom dll."))),(0,i.yg)("h3",{id:"simpulan"},"Simpulan"),(0,i.yg)("p",null,"Anda dapat menulis ",(0,i.yg)("em",{parentName:"p"},"query")," untuk melakukan proses migrasi dengan pustaka yang sudah disedikan oleh SLiMS seperti ",(0,i.yg)("a",{parentName:"p",href:"/development-guide/Database/Penggunaan"},(0,i.yg)("inlineCode",{parentName:"a"},"SLiMS\\DB"))," contoh:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-php"},"function up() {\n    \\SLiMS\\DB::getInstance()->query(<<<SQL\n    CREATE TABLE IF NOT EXISTS `test` {\n        id int,\n        nama varchar(255),\n        nama_akhir varchar(255)\n    }\n    SQL);\n}\n")))}d.isMDXComponent=!0}}]);