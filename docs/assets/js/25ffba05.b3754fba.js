"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4606],{3905:(a,e,n)=>{n.d(e,{Zo:()=>d,kt:()=>k});var t=n(7294);function r(a,e,n){return e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function i(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.push.apply(n,t)}return n}function l(a){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(a,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))}))}return a}function u(a,e){if(null==a)return{};var n,t,r=function(a,e){if(null==a)return{};var n,t,r={},i=Object.keys(a);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||(r[n]=a[n]);return r}(a,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(r[n]=a[n])}return r}var p=t.createContext({}),o=function(a){var e=t.useContext(p),n=e;return a&&(n="function"==typeof a?a(e):l(l({},e),a)),n},d=function(a){var e=o(a.components);return t.createElement(p.Provider,{value:e},a.children)},s="mdxType",m={inlineCode:"code",wrapper:function(a){var e=a.children;return t.createElement(t.Fragment,{},e)}},g=t.forwardRef((function(a,e){var n=a.components,r=a.mdxType,i=a.originalType,p=a.parentName,d=u(a,["components","mdxType","originalType","parentName"]),s=o(n),g=r,k=s["".concat(p,".").concat(g)]||s[g]||m[g]||i;return n?t.createElement(k,l(l({ref:e},d),{},{components:n})):t.createElement(k,l({ref:e},d))}));function k(a,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof a||r){var i=n.length,l=new Array(i);l[0]=g;var u={};for(var p in e)hasOwnProperty.call(e,p)&&(u[p]=e[p]);u.originalType=a,u[s]="string"==typeof a?a:r,l[1]=u;for(var o=2;o<i;o++)l[o]=n[o];return t.createElement.apply(null,l)}return t.createElement.apply(null,n)}g.displayName="MDXCreateElement"},3140:(a,e,n)=>{n.r(e),n.d(e,{assets:()=>p,contentTitle:()=>l,default:()=>s,frontMatter:()=>i,metadata:()=>u,toc:()=>o});var t=n(7462),r=(n(7294),n(3905));const i={},l=void 0,u={unversionedId:"Plugin/Migration",id:"Plugin/Migration",title:"Migration",description:"Ini merupakan bagian dari fitur `Plugin` yang digunakan untuk melakukan proses migrasi basis data atau akrab dikenal sebagai Database Migration. Sebuah proses dimana anda sebagai pengembang/developer plugin dapat dengan leluasa memindahkan struktur tabel yang anda buat khusus untuk plugin anda tanpa perlu repot memindahkan manual dengan mengekspor file .sql dll kedalam database anda.",source:"@site/development-guide/04-Plugin/07-Migration.md",sourceDirName:"04-Plugin",slug:"/Plugin/Migration",permalink:"/docs/development-guide/Plugin/Migration",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Cara membuat plugin diarea admin",permalink:"/docs/development-guide/Plugin/Membuat-plugin-modifikasi-pada-area-admin"},next:{title:"Permulaan",permalink:"/docs/development-guide/Database/Intro"}},p={},o=[{value:"Langkah-Langkah",id:"langkah-langkah",level:3},{value:"Simpulan",id:"simpulan",level:3}],d={toc:o};function s(a){let{components:e,...n}=a;return(0,r.kt)("wrapper",(0,t.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Ini merupakan bagian dari fitur ",(0,r.kt)("inlineCode",{parentName:"p"},"Plugin")," yang digunakan untuk melakukan proses migrasi basis data atau akrab dikenal sebagai Database Migration. Sebuah proses dimana anda sebagai pengembang/",(0,r.kt)("em",{parentName:"p"},"developer")," plugin dapat dengan leluasa memindahkan struktur tabel yang anda buat khusus untuk plugin anda tanpa perlu repot memindahkan manual dengan mengekspor file .sql dll kedalam database anda."),(0,r.kt)("h3",{id:"langkah-langkah"},"Langkah-Langkah"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Buat sebuah folder bernama ",(0,r.kt)("inlineCode",{parentName:"p"},"migration")," didalam folder anda")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Buat sebuah file dengan nama ",(0,r.kt)("inlineCode",{parentName:"p"},"1_CreateBase.php"),' (nama bisa desuaikan). Setiap nama yang dibuat wajib diawali dengan  angka dan dipisahkan dengan "_" (garis bawah) misalnya ',(0,r.kt)("inlineCode",{parentName:"p"},"2_ModifyColumn.php")," dst. Pemberi nomor bertujuan untuk mengurutkan proses migrasi dari awal hingga akhir dan nama setelah nomor tidak boleh ada yang sama.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Buka file yang sudah anda buat lalu isinya sebagai berikut:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-php"},"<?php\nuse SLiMS\\Migration\\Migration;\n\nclass CreateBase extends Migration\n{\n    function up() {\n        // tulis disini\n    }\n\n    function down() {\n        // tulis disini\n    }\n}\n")),(0,r.kt)("h4",{parentName:"li",id:"penjelasan"},"Penjelasan"),(0,r.kt)("h5",{parentName:"li",id:"up"},"Up"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-php"},"function up()\n")),(0,r.kt)("p",{parentName:"li"},"Metoda/method ini akan dijalan ketika plugin diaktifkan. Anda dapat meletakan proses pembuatan tabel,kolom dll yang berkaitan dengan struktur basis data SLiMS yang hendak anda ubah."),(0,r.kt)("h5",{parentName:"li",id:"down"},"Down"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-php"},"function down()\n")),(0,r.kt)("p",{parentName:"li"},"Kebalikan dari metoda seblumnya. Proses yang bisa anda lakukab seperti menghapus struktur tabel, tabel, kolom dll."))),(0,r.kt)("h3",{id:"simpulan"},"Simpulan"),(0,r.kt)("p",null,"Anda dapat menulis ",(0,r.kt)("em",{parentName:"p"},"query")," untuk melakukan proses migrasi dengan pustaka yang sudah disedikan oleh SLiMS seperti ",(0,r.kt)("a",{parentName:"p",href:"/development-guide/Database/Penggunaan"},(0,r.kt)("inlineCode",{parentName:"a"},"SLiMS\\DB"))," contoh:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"function up() {\n    \\SLiMS\\DB::getInstance()->query(<<<SQL\n    CREATE TABLE IF NOT EXISTS `test` {\n        id int,\n        nama varchar(255),\n        nama_akhir varchar(255)\n    }\n    SQL);\n}\n")))}s.isMDXComponent=!0}}]);