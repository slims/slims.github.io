"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[2388],{3905:(a,e,n)=>{n.d(e,{Zo:()=>s,kt:()=>k});var i=n(7294);function t(a,e,n){return e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function l(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.push.apply(n,i)}return n}function u(a){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){t(a,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))}))}return a}function r(a,e){if(null==a)return{};var n,i,t=function(a,e){if(null==a)return{};var n,i,t={},l=Object.keys(a);for(i=0;i<l.length;i++)n=l[i],e.indexOf(n)>=0||(t[n]=a[n]);return t}(a,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(i=0;i<l.length;i++)n=l[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(t[n]=a[n])}return t}var m=i.createContext({}),p=function(a){var e=i.useContext(m),n=e;return a&&(n="function"==typeof a?a(e):u(u({},e),a)),n},s=function(a){var e=p(a.components);return i.createElement(m.Provider,{value:e},a.children)},o="mdxType",d={inlineCode:"code",wrapper:function(a){var e=a.children;return i.createElement(i.Fragment,{},e)}},g=i.forwardRef((function(a,e){var n=a.components,t=a.mdxType,l=a.originalType,m=a.parentName,s=r(a,["components","mdxType","originalType","parentName"]),o=p(n),g=t,k=o["".concat(m,".").concat(g)]||o[g]||d[g]||l;return n?i.createElement(k,u(u({ref:e},s),{},{components:n})):i.createElement(k,u({ref:e},s))}));function k(a,e){var n=arguments,t=e&&e.mdxType;if("string"==typeof a||t){var l=n.length,u=new Array(l);u[0]=g;var r={};for(var m in e)hasOwnProperty.call(e,m)&&(r[m]=e[m]);r.originalType=a,r[o]="string"==typeof a?a:t,u[1]=r;for(var p=2;p<l;p++)u[p]=n[p];return i.createElement.apply(null,u)}return i.createElement.apply(null,n)}g.displayName="MDXCreateElement"},554:(a,e,n)=>{n.r(e),n.d(e,{assets:()=>m,contentTitle:()=>u,default:()=>o,frontMatter:()=>l,metadata:()=>r,toc:()=>p});var i=n(7462),t=(n(7294),n(3905));const l={title:"Cara membuat plugin diarea admin",description:"Langkah-langkah membuat plugin untuk memodifikasi menu yang ada diarea admin",keywords:["Plugin","Admin","SLiMS Plugin Admin"]},u="Membuat Plugin Modifikasi Pada Area Admin",r={unversionedId:"Plugin/Membuat-plugin-modifikasi-pada-area-admin",id:"Plugin/Membuat-plugin-modifikasi-pada-area-admin",title:"Cara membuat plugin diarea admin",description:"Langkah-langkah membuat plugin untuk memodifikasi menu yang ada diarea admin",source:"@site/development-guide/04-Plugin/04-Membuat-plugin-modifikasi-pada-area-admin.md",sourceDirName:"04-Plugin",slug:"/Plugin/Membuat-plugin-modifikasi-pada-area-admin",permalink:"/docs/development-guide/Plugin/Membuat-plugin-modifikasi-pada-area-admin",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Cara membuat plugin diarea admin",description:"Langkah-langkah membuat plugin untuk memodifikasi menu yang ada diarea admin",keywords:["Plugin","Admin","SLiMS Plugin Admin"]},sidebar:"tutorialSidebar",previous:{title:"Membuat plugin modifikasi halaman tertentu di OPAC",permalink:"/docs/development-guide/Plugin/Membuat-plugin-modifikasi-halaman-pada-OPAC"},next:{title:"Migration",permalink:"/docs/development-guide/Plugin/Migration"}},m={},p=[{value:"Pengantar",id:"pengantar",level:3},{value:"Memanfaatkan operasi hook",id:"memanfaatkan-operasi-hook",level:3},{value:"Penjelasan",id:"penjelasan",level:4},{value:"Menambah menu kustom pada submenu",id:"menambah-menu-kustom-pada-submenu",level:3},{value:"Merubah isi menu yang sudah ada pada submenu",id:"merubah-isi-menu-yang-sudah-ada-pada-submenu",level:3},{value:"Penjelasan",id:"penjelasan-1",level:4}],s={toc:p};function o(a){let{components:e,...l}=a;return(0,t.kt)("wrapper",(0,i.Z)({},s,l,{components:e,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"membuat-plugin-modifikasi-pada-area-admin"},"Membuat Plugin Modifikasi Pada Area Admin"),(0,t.kt)("h3",{id:"pengantar"},"Pengantar"),(0,t.kt)("p",null,"Pada ",(0,t.kt)("a",{parentName:"p",href:"/development-guide/Plugin/Membuat-plugin-modifikasi-halaman-pada-OPAC"},"materi sebelumnya")," sudah dibahas mengenai langkah-langkah memodifikasi halaman yang ada di OPAC. Pada bagian ini kita akan belajar untuk membuat/memodifikasi halaman yang ada di area admin. Langkah yang akan digunakan tak berbeda jauh, seperti yang ada dibawah ini:"),(0,t.kt)("h3",{id:"memanfaatkan-operasi-hook"},"Memanfaatkan operasi hook"),(0,t.kt)("p",null,"Pada materi ",(0,t.kt)("a",{parentName:"p",href:"/development-guide/Plugin/Intro#hook"},"hook")," dijelaskan bagaimana kita melakukan manipulasi proses yang akan/belum terjadi di SLiMS, misalnya kita akan menginterupsi proses penyimpanan data sebelum data itu tersimpan. Lalu apa kegunaannya? kita dapat memberikan fitur-fitur yang kita inginkan dalam proses penyimpanan data, misalnya membuat percabangan penyimpnan dimana kita ingin sebelum data itu disimpan kita akan mengambil beberapa data yang ada lalu menyimpannya ditempat lain. Studi kasusnya yaitu menyimpan data yang ada di SLiMS ke database lain, seperti ElasticSearch, MeiliSearch dll yang akan digunakan sebagai basis data untuk pencarian. Kita akan buat contoh sederhana seperti berikut:"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"Buat folder di ",(0,t.kt)("inlineCode",{parentName:"li"},"plugins/")," dengan nama ",(0,t.kt)("strong",{parentName:"li"},"hooking"),"."),(0,t.kt)("li",{parentName:"ol"},"Pada folder yang dibuat pada langkah pertama, buat sebuah file dengan nama ",(0,t.kt)("strong",{parentName:"li"},"hooking.plugin.php"),"."),(0,t.kt)("li",{parentName:"ol"},"Isi dari file yang dibuat pada langkah ketika seperti skrip dibawah ini")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},"<?php\n/**\n * Plugin Name: Hooking\n * Plugin URI: -\n * Description: Memanipulasi proses data di SLiMS\n * Version: 1.0.0\n * Author: Foo\n * Author URI: https://foo.who\n */\nuse SLiMS\\Plugins;\n$plugins = Plugins::getInstance();\n\n$plugins->register('bibliography_before_save', function($data){\n    toastr('Test hooking')->native();\n});\n")),(0,t.kt)("ol",{start:4},(0,t.kt)("li",{parentName:"ol"},"Setelah itu aktifkan plugin itu pada modul ",(0,t.kt)("inlineCode",{parentName:"li"},"System > Plugin")," dengan nama ",(0,t.kt)("strong",{parentName:"li"},"hooking"),". ",(0,t.kt)("img",{alt:"Example",src:n(1475).Z,width:"1920",height:"918"})),(0,t.kt)("li",{parentName:"ol"},"Jika sudah anda buka menu ",(0,t.kt)("inlineCode",{parentName:"li"},"tambah bibliografi baru")," modul bibliography dan buat sebuah data baru (anda bisa isi sembarang data misal saja dengan judul ",(0,t.kt)("inlineCode",{parentName:"li"},"test"),")."),(0,t.kt)("li",{parentName:"ol"},"Apabila plugin berjalan dengan baik maka akan muncul seperti berikut (setelah anda menekan tombol simpan)\n",(0,t.kt)("img",{alt:"proof",src:n(7348).Z,width:"1919",height:"921"}))),(0,t.kt)("h4",{id:"penjelasan"},"Penjelasan"),(0,t.kt)("p",null,"lihat komentar pada skrip dibawah berikut:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},"$plugins->register('bibliography_before_save', function($data){\n    // disini anda dapat melakukan berbagai macam proses manipulasi data\n    // bahkan sampai menginterupsi pun anda bisa. Lakukan apa yang\n    // anda butuhkan di bagian ini.\n    toastr('Test hooking')->native(); // ini sebagai contoh saja bisa diganti kok.\n});\n")),(0,t.kt)("p",null,"Masih banyak lagi contoh penggunaan hook, anda dapat mengganti proses hook ",(0,t.kt)("inlineCode",{parentName:"p"},"bibliography_before_save")," dengan ",(0,t.kt)("a",{parentName:"p",href:"/development-guide/Plugin/Membuat-plugin-modifikasi-halaman-pada-OPAC"},"proses yang lain"),"."),(0,t.kt)("h3",{id:"menambah-menu-kustom-pada-submenu"},"Menambah menu kustom pada submenu"),(0,t.kt)("p",null,"Pada ",(0,t.kt)("a",{parentName:"p",href:"/development-guide/Plugin/Intro#menu"},"materi sebelumnya")," mengenai modifikasi menu. Kali ini kita akan mempraktikan terkait menambahkan kustom menu kedalam submenu pada modul bibliography tanpa merubah isi dari file submenu.php yang ada di dalam modul tersebut. Berikut langkahnya:"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"Buat folder di ",(0,t.kt)("inlineCode",{parentName:"li"},"plugins/")," dengan nama ",(0,t.kt)("strong",{parentName:"li"},"custom_menu"),"."),(0,t.kt)("li",{parentName:"ol"},"Pada folder yang dibuat pada langkah pertama, buat sebuah file dengan nama ",(0,t.kt)("strong",{parentName:"li"},"custom_menu.plugin.php"),"."),(0,t.kt)("li",{parentName:"ol"},"Isi dari file yang dibuat pada langkah ketika seperti skrip dibawah ini")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},"<?php\n/**\n * Plugin Name: Custom Menu\n * Plugin URI: -\n * Description: Menambah kustom menu\n * Version: 1.0.0\n * Author: Foo\n * Author URI: https://foo.who\n */\nuse SLiMS\\Plugins;\n$plugins = Plugins::getInstance();\n\n$plugins->registerMenu('bibliography', 'Kustom Menu', __DIR__ . '/custom_menu.php');\n")),(0,t.kt)("ol",{start:4},(0,t.kt)("li",{parentName:"ol"},"Buat sebuah file dengan nama ",(0,t.kt)("inlineCode",{parentName:"li"},"custom_menu.php")," didirektori yang sama dengan ",(0,t.kt)("strong",{parentName:"li"},"custom_menu.plugin.php")),(0,t.kt)("li",{parentName:"ol"},"Isi file pada langkah ke 4 dengan skrip dibawha ini:")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},'<?php\necho "<h1>Hai ini isi dari custom_menu.php</h1>";\n')),(0,t.kt)("ol",{start:6},(0,t.kt)("li",{parentName:"ol"},"Setelah itu aktifkan plugin itu pada modul ",(0,t.kt)("inlineCode",{parentName:"li"},"System > Plugin")," dengan nama ",(0,t.kt)("strong",{parentName:"li"},"Custom Menu"),". ",(0,t.kt)("img",{alt:"custom_menu",src:n(4874).Z,width:"1585",height:"366"})),(0,t.kt)("li",{parentName:"ol"},"Maka akan muncul menu baru diujung paling bawah seperti berikut: ",(0,t.kt)("img",{alt:"custom_menu",src:n(4843).Z,width:"1600",height:"736"})),(0,t.kt)("li",{parentName:"ol"},"Jika diklik maka muncul seperti gambar dibawah berikut: ",(0,t.kt)("img",{alt:"custom_menu",src:n(7345).Z,width:"1600",height:"736"}))),(0,t.kt)("h3",{id:"merubah-isi-menu-yang-sudah-ada-pada-submenu"},"Merubah isi menu yang sudah ada pada submenu"),(0,t.kt)("p",null,"Pada materi diatas dijelaskan bahwa kita dapat menambah menu kustom pada submenu. Tak jauh berbeda dengan materi diatas, kali kita akan memanipulasi isi dari sebuah menu yang sudah ada. Langkah yaitu melanjutkan dari langkah sebelumnya:"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"Pada folder ",(0,t.kt)("inlineCode",{parentName:"li"},"plugins/custom_menu")," buat sebuah file bernama custom_index.php"),(0,t.kt)("li",{parentName:"ol"},"Buka file submenu.php pada folder ",(0,t.kt)("inlineCode",{parentName:"li"},"admin/modules/bibliography/submenu.php"),", salin skrip yang ada didalam kotak merah seperti dibawah berikut:\n",(0,t.kt)("img",{alt:"submenu",src:n(7195).Z,width:"849",height:"392"})),(0,t.kt)("li",{parentName:"ol"},"Buka file custom_menu.plugin.php pada folder ",(0,t.kt)("inlineCode",{parentName:"li"},"plugins/custom_menu")," lalu tambah skrip dibawah berikut:")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},"$plugins->registerMenu('bibliography', __('Bibliographic List'), __DIR__ . '/custom_index.php');\n")),(0,t.kt)("ol",{start:4},(0,t.kt)("li",{parentName:"ol"},"Maka skrip lengkapnya sebagai berikut:")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},"<?php\n/**\n * Plugin Name: Custom Menu\n * Plugin URI: -\n * Description: Menambah kustom menu\n * Version: 1.0.0\n * Author: Foo\n * Author URI: https://foo.who\n */\nuse SLiMS\\Plugins;\n$plugins = Plugins::getInstance();\n\n$plugins->registerMenu('bibliography', 'Kustom Menu', __DIR__ . '/custom_menu.php');\n$plugins->registerMenu('bibliography', __('Bibliographic List'), __DIR__ . '/custom_index.php');\n")),(0,t.kt)("ol",{start:5},(0,t.kt)("li",{parentName:"ol"},"Isi file yang sudah dibuat pada langkah ke 1 dengan skrip berikut:")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},'<?php\necho "<h1>Hai ini isi dari custom_index.php</h1>\n<p>yang menggantikan isi dari admin/modules/bibliography/index.php</p>";\n')),(0,t.kt)("ol",{start:6},(0,t.kt)("li",{parentName:"ol"},"Refresh halaman saat ini masuk ke modul ",(0,t.kt)("inlineCode",{parentName:"li"},"biblography"),". Jika langkah 5 berhasil maka muncul sebagai berikut:\n",(0,t.kt)("img",{alt:"proof",src:n(5816).Z,width:"1600",height:"736"}))),(0,t.kt)("h4",{id:"penjelasan-1"},"Penjelasan"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-php"},"$plugins->registerMenu('bibliography', __('Bibliographic List'), __DIR__ . '/custom_index.php');\n")),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("inlineCode",{parentName:"li"},"bibliography")," : adalah nama modul yang dituju, anda dapat menganti modul tersebut dengan modul yang tersedia seperti ",(0,t.kt)("inlineCode",{parentName:"li"},"bibliography, membership, master_file, circulation, stock_take, system, reporting, dan serial_control  ")," setiap pendaftaran menu akan muncul disetiap modul yang disebutkan. Namun, apabila modul yang disebutkan tidak tersedia/aktif di SLiMS maka menu tidak akan pernah muncul."),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("inlineCode",{parentName:"li"},"__('Bibliographic List')")," : Adalah nama menu yang tersedia di modul ",(0,t.kt)("strong",{parentName:"li"},(0,t.kt)("em",{parentName:"strong"},"Bibliography")),". Kenapa harus diawali dengan ",(0,t.kt)("inlineCode",{parentName:"li"},"__(")," dan akhiri ",(0,t.kt)("inlineCode",{parentName:"li"},")")," karena metoda tersebut digunakan untuk menterjemahkan setiap kata yang diletekan dikeduanya. Jadi plugin anda dapat dibaca diberbagai macam bahasa."),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("inlineCode",{parentName:"li"},"__DIR__ . '/custom_index.php'")," : Nama file yang akan digunakan untuk menggantikan file sebenarnya pada modul  bibliography.")))}o.isMDXComponent=!0},7345:(a,e,n)=>{n.d(e,{Z:()=>i});const i=n.p+"assets/images/plugin-04-content-of-custom_menu-e66348589ae8ece33b99ba3b079f4e71.png"},4843:(a,e,n)=>{n.d(e,{Z:()=>i});const i=n.p+"assets/images/plugin-04-custom-menu-on-biblio-5420d810bba60e268bf86520f5011115.png"},4874:(a,e,n)=>{n.d(e,{Z:()=>i});const i=n.p+"assets/images/plugin-04-custom-menu-6433fed5a143257d11257f5804e6d94c.png"},5816:(a,e,n)=>{n.d(e,{Z:()=>i});const i=n.p+"assets/images/plugin-04-custom_index_proof-56a6067b9d7dc7be037fb4bb91e3ba48.png"},7195:(a,e,n)=>{n.d(e,{Z:()=>i});const i=n.p+"assets/images/plugin-04-custom_index_submenu-2c2147e0d2e2e81ad13e86b30caa3b46.png"},1475:(a,e,n)=>{n.d(e,{Z:()=>i});const i=n.p+"assets/images/plugin-04-hooking-plugin-0fcd53566186a87348e3f2631f01c640.png"},7348:(a,e,n)=>{n.d(e,{Z:()=>i});const i=n.p+"assets/images/plugin-04-hooking-test-447aee22eb43ad5f2bf5a9dd2c055cea.png"}}]);