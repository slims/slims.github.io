"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4586],{3905:(a,e,n)=>{n.d(e,{Zo:()=>d,kt:()=>k});var t=n(7294);function i(a,e,n){return e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function l(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.push.apply(n,t)}return n}function r(a){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){i(a,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))}))}return a}function s(a,e){if(null==a)return{};var n,t,i=function(a,e){if(null==a)return{};var n,t,i={},l=Object.keys(a);for(t=0;t<l.length;t++)n=l[t],e.indexOf(n)>=0||(i[n]=a[n]);return i}(a,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(t=0;t<l.length;t++)n=l[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}var u=t.createContext({}),p=function(a){var e=t.useContext(u),n=e;return a&&(n="function"==typeof a?a(e):r(r({},e),a)),n},d=function(a){var e=p(a.components);return t.createElement(u.Provider,{value:e},a.children)},m="mdxType",o={inlineCode:"code",wrapper:function(a){var e=a.children;return t.createElement(t.Fragment,{},e)}},g=t.forwardRef((function(a,e){var n=a.components,i=a.mdxType,l=a.originalType,u=a.parentName,d=s(a,["components","mdxType","originalType","parentName"]),m=p(n),g=i,k=m["".concat(u,".").concat(g)]||m[g]||o[g]||l;return n?t.createElement(k,r(r({ref:e},d),{},{components:n})):t.createElement(k,r({ref:e},d))}));function k(a,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof a||i){var l=n.length,r=new Array(l);r[0]=g;var s={};for(var u in e)hasOwnProperty.call(e,u)&&(s[u]=e[u]);s.originalType=a,s[m]="string"==typeof a?a:i,r[1]=s;for(var p=2;p<l;p++)r[p]=n[p];return t.createElement.apply(null,r)}return t.createElement.apply(null,n)}g.displayName="MDXCreateElement"},5761:(a,e,n)=>{n.r(e),n.d(e,{assets:()=>u,contentTitle:()=>r,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var t=n(7462),i=(n(7294),n(3905));const l={},r=void 0,s={unversionedId:"Database/Membuat Ekstensi",id:"Database/Membuat Ekstensi",title:"Membuat Ekstensi",description:"Apabila anda memiliki ide atau gagasan lain mengenai cara mengambil data dari database",source:"@site/development-guide/05-Database/04-Membuat Ekstensi.md",sourceDirName:"05-Database",slug:"/Database/Membuat Ekstensi",permalink:"/docs/development-guide/Database/Membuat Ekstensi",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Ekstensi",permalink:"/docs/development-guide/Database/Ekstensi"},next:{title:"Schema",permalink:"/docs/development-guide/Database/Schema"}},u={},p=[{value:"Langkah-langkah",id:"langkah-langkah",level:3},{value:"1. Pasang/<em>install</em> pustaka illuminate/database menggunakan composer.",id:"1-pasanginstall-pustaka-illuminatedatabase-menggunakan-composer",level:4},{value:"2. Pasang/<em>install</em> pustaka illuminate/database menggunakan composer.",id:"2-pasanginstall-pustaka-illuminatedatabase-menggunakan-composer",level:4},{value:"3. Membuat file ekstensi database.",id:"3-membuat-file-ekstensi-database",level:4},{value:"4. Isi dari file Builder.php",id:"4-isi-dari-file-builderphp",level:4},{value:"5. Mendafarkan ekstensi",id:"5-mendafarkan-ekstensi",level:4},{value:"6. Aktifkan Plugin pada modul sistem",id:"6-aktifkan-plugin-pada-modul-sistem",level:4},{value:"Cara menggunakan",id:"cara-menggunakan",level:3},{value:"Simpulan",id:"simpulan",level:3}],d={toc:p};function m(a){let{components:e,...n}=a;return(0,i.kt)("wrapper",(0,t.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Apabila anda memiliki ide atau gagasan lain mengenai cara mengambil data dari ",(0,i.kt)("em",{parentName:"p"},"database"),"\ndengan menggunakan pustaka ",(0,i.kt)("inlineCode",{parentName:"p"},"SLiMS\\DB")," sesuai gaya anda, SLiMS memfasilitasi hal tersebut dengan fitur ini sebagai contoh mengintegrasikan dengan ",(0,i.kt)("a",{parentName:"p",href:"https://laravel.com/docs/queries"},"Laravel Database Query Builder"),"."),(0,i.kt)("h3",{id:"langkah-langkah"},"Langkah-langkah"),(0,i.kt)("p",null,"Perihal modifikasi, SLiMS hadir dengan ",(0,i.kt)("a",{parentName:"p",href:"/development-guide/Plugin/Intro"},"sistem plugin"),", maka ekstensi yang akan anda buat juga tidak akan lepas dari sistem tersebut agar perubahan yang dibuat tersenteralisasi di satu tempat yaitu direktori ",(0,i.kt)("inlineCode",{parentName:"p"},"plugins/")," maka anda perlu belajar membuat plugin dulu, setelah anda paham bagaimana membuat plugin di SLiMS berikut langkah nya membuat ekstensi:"),(0,i.kt)("h4",{id:"1-pasanginstall-pustaka-illuminatedatabase-menggunakan-composer"},"1. Pasang/",(0,i.kt)("em",{parentName:"h4"},"install")," pustaka illuminate/database menggunakan composer."),(0,i.kt)("p",null,"Buat plugin anda seperti yang sudah dijelaskan pada ",(0,i.kt)("a",{parentName:"p",href:"/development-guide/Plugin/Intro"},"materi sebelumnya"),"."),(0,i.kt)("h4",{id:"2-pasanginstall-pustaka-illuminatedatabase-menggunakan-composer"},"2. Pasang/",(0,i.kt)("em",{parentName:"h4"},"install")," pustaka illuminate/database menggunakan composer."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"composer require illuminate/database \n")),(0,i.kt)("h4",{id:"3-membuat-file-ekstensi-database"},"3. Membuat file ekstensi database."),(0,i.kt)("p",null,"buat file Builder.php pada folder plugin yang sudah anda buat."),(0,i.kt)("h4",{id:"4-isi-dari-file-builderphp"},"4. Isi dari file Builder.php"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"<?php\nuse Illuminate\\Database\\Capsule\\Manager;\n\nclass Builder extends Manager\n{\n    public function __construct()\n    {\n        parent::__construct();\n        $database = config('database');\n        $defaultDatabase = $database['default_profile'];\n\n        foreach ($database['nodes'] as $name => $detail) {\n            if (!isset($detail['driver'])) $detail['driver'] = 'mysql';\n            unset($detail['options']);\n\n            $this->addConnection($detail, $name === $defaultDatabase ? 'default' : $name);\n        }\n\n        $this->setAsGlobal();\n    }\n}\n")),(0,i.kt)("h4",{id:"5-mendafarkan-ekstensi"},"5. Mendafarkan ekstensi"),(0,i.kt)("p",null,"Buka file ",(0,i.kt)("inlineCode",{parentName:"p"},".plugin.php")," pada folder plugin anda, lalu tambah skrip sebagai berikut:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"require __DIR__ . '/vendor/autoload.php';\nrequire __DIR__ . '/Builder.php';\n\n\\SLiMS\\DB::registerExtension(name: 'builder', class: Builder::class);\n")),(0,i.kt)("h4",{id:"6-aktifkan-plugin-pada-modul-sistem"},"6. Aktifkan Plugin pada modul sistem"),(0,i.kt)("h3",{id:"cara-menggunakan"},"Cara menggunakan"),(0,i.kt)("p",null,"Petunjuk detail penggunaannya dapat anda lihat pada ",(0,i.kt)("a",{parentName:"p",href:"https://laravel.com/docs/queries"},"dokumentasi resminya"),". Berikut cara menggunakan ekstensi yang anda buat:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"<?php\nuse SLiMS\\DB;\n$builder = DB::builder();\n$biblio = $builder->table('biblio')->limit(10)->get();\n$item = $builder->table('item')->select('biblio_id','item_code')->where('biblio_id', 1)->get();\n")),(0,i.kt)("h3",{id:"simpulan"},"Simpulan"),(0,i.kt)("p",null,"dengan kemampuan ini anda dapat variasi-varias mengenai database secara global dapat diakses dari banyak file di SLiMS melalui ",(0,i.kt)("inlineCode",{parentName:"p"},"DB::class")))}m.isMDXComponent=!0}}]);